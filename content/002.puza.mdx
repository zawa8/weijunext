---
title: open source weekly ANk 2
slug: 2024-02-12-002
date: 2024-02-12
---
# `@scope`definition and function

**`@scope`** is a css block-level rule that allows you to create a scope that defines a specific areA to which a set of style rules apply. does this remind you of the scope of less and scss? yes, their "scope" is a concept.

## basic use

scope consists of two pArtsï¼š**scope root** and **scope limit**ã€‚

- **scope root (\<scope-start\>): **defines the node where the style starts to be applied
- **scope restriction (\<scope-end\>) (optional): **Define nodes that are not affected by the scope
- **style rules (\<rule-list\>)**: styles defined within **`@scope`**

```css
@scope [(<scope-start>)]? [to (<scope-end>)]? {
  <rule-list>
}
```

**Example 1: Using Scope Root**

Let's say you have a blog post page that contains a post section and a comments section. You want the links in these two blocks to be different colors.

```css
/* ä¸ºæ–‡ç« åŒºå—å®šä¹‰ä¸€ä¸ªä½œç”¨åŸŸ */
@scope (.article-section) {
  /* åªåœ¨æ–‡ç« åŒºå—ä¸­åº”ç”¨è¿™ä¸ªæ ·å¼ */
  a { color: blue; }
}

/* ä¸ºè¯„è®ºåŒºå—å®šä¹‰ä¸€ä¸ªä½œç”¨åŸŸ */
@scope (.comments-section) {
  /* åªåœ¨è¯„è®ºåŒºå—ä¸­åº”ç”¨è¿™ä¸ªæ ·å¼ */
  a { color: green; }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ**`.article-section`** å†…çš„æ‰€æœ‰é“¾æ¥å°†ä¼šæ˜¯è“è‰²ï¼Œè€Œ **`.comments-section`** å†…çš„é“¾æ¥å°†ä¼šæ˜¯ç»¿è‰²ã€‚

**ç¤ºä¾‹2ï¼šä½¿ç”¨ä½œç”¨åŸŸé™åˆ¶**

ç°åœ¨ï¼Œå‡è®¾åœ¨ä½ çš„æ–‡ç« åŒºå—ä¸­ï¼Œä½ æœ‰ä¸€ä¸ªç‰¹åˆ«çš„å¼•ç”¨éƒ¨åˆ†ï¼Œä½ ä¸å¸Œæœ›åœ¨è¿™ä¸ªéƒ¨åˆ†åº”ç”¨ä¸Šè¿°çš„è“è‰²é“¾æ¥æ ·å¼ã€‚

```css
/* ä¸ºæ–‡ç« åŒºå—å®šä¹‰ä¸€ä¸ªä½œç”¨åŸŸï¼Œä½†æ’é™¤å¼•ç”¨éƒ¨åˆ† */
@scope (.article-section) to (.news-section .quote) {
  a { color: blue; }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ**`.article-section`** å†…çš„é“¾æ¥ä»ç„¶æ˜¯è“è‰²ï¼Œä½†æ–‡ç« é‡Œ **`.quote`** ç±»ä¸­çš„é“¾æ¥ä¸ä¼šå—è¿™ä¸ªä½œç”¨åŸŸé™åˆ¶ã€‚ï¼ˆ[CodepenğŸ‘‡](https://codepen.io/yohopi/pen/VwgGooo)å¦‚æœé“¾æ¥éƒ½æ˜¾ç¤ºè“è‰²ï¼Œè¯·åˆ°Codepené‡ŒæŸ¥çœ‹ï¼‰

https://codepen.io/yohopi/pen/VwgGooo

# `@scope`çš„é«˜çº§ç‰¹æ€§

ç°åœ¨æ¥çœ‹ä¸€äº›é«˜çº§ç”¨æ³•ã€‚

## ç‰¹æ®Šé€‰æ‹©å™¨ï¼š`:scope` å’Œ `&`

æˆ‘ä»¬å¯ä»¥ç”¨ **`:scope`** å’Œ `&` ****æŒ‡ä»£ä½œç”¨åŸŸæ ¹å…ƒç´ ï¼Œä¾‹å¦‚

```html
<div class="container">
    <p>è¿™æ˜¯ä¸€æ®µæ–‡æœ¬ã€‚</p>
    <div class="sub-container">
        <p>è¿™æ˜¯å¦ä¸€æ®µæ–‡æœ¬ã€‚</p>
	      <div>è¿™æ˜¯ä¸€ä¸ªdiv</div>
    </div>
</div>
```

åˆ†åˆ«æµ‹è¯• **`:scope`** å’Œ **`&`**ï¼Œä¼šå‘ç°æ•ˆæœä¸€æ ·ï¼Œå› ä¸ºæ­¤æ—¶å®ƒä»¬éƒ½ç­‰ä»·äº .**`container`**

```css
@scope (.container) {
    :scope > p { color: red; }
}
@scope (.container) {
    & > p { color: red; }
}
```

## ä½œç”¨åŸŸåµŒå¥—

**åµŒå¥—è§„åˆ™**ï¼š**`@scope`** è§„åˆ™å¯ä»¥åµŒå¥—ã€‚åµŒå¥—è§„åˆ™å…è®¸å¼€å‘è€…åˆ›å»ºå¤æ‚çš„æ ·å¼ç»“æ„ï¼ŒåŒæ—¶é¿å…æ ·å¼çš„å†²çªå’Œæ±¡æŸ“ã€‚

```css
/* å¤–éƒ¨ä½œç”¨åŸŸ */
@scope (.outer-scope) {
  p { color: red; }

  /* å†…éƒ¨åµŒå¥—ä½œç”¨åŸŸ */
  @scope (.inner-scope) {
    p { color: blue; }
  }
}

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ**`.outer-scope`** å†…çš„æ®µè½æ˜¯çº¢è‰²çš„ï¼Œä½†åœ¨ **`.inner-scope`** å†…çš„æ®µè½æ˜¯è“è‰²çš„ã€‚

### ä½¿ç”¨æ•°æ®å±æ€§å®šä¹‰ä½œç”¨åŸŸ

**`@scope`** è¿˜å¯ä»¥ä¸HTMLçš„æ•°æ®å±æ€§ï¼ˆå¦‚ **`data-scope`**ï¼‰ç»“åˆä½¿ç”¨ï¼Œä»¥åˆ›å»ºæ›´å…·ä½“çš„ä½œç”¨åŸŸã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡ç»™ä¸åŒéƒ¨åˆ†çš„HTMLå…ƒç´ æ·»åŠ ä¸åŒçš„æ•°æ®å±æ€§ï¼Œç„¶ååœ¨CSSä¸­ä½¿ç”¨è¿™äº›å±æ€§æ¥å®šä¹‰ä½œç”¨åŸŸï¼š

```css
/* ä¸ºå¸¦æœ‰ç‰¹å®šæ•°æ®å±æ€§çš„å…ƒç´ å®šä¹‰ä½œç”¨åŸŸ */
@scope ([data-scope='main-section']) {
  p { color: red; }
}

@scope ([data-scope='sidebar']) {
  p { color: blue; }
}

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ**`data-scope='main-section'`** çš„æ®µè½å°†ä¼šæ˜¯çº¢è‰²ï¼Œè€Œ **`data-scope='sidebar'`** çš„æ®µè½å°†ä¼šæ˜¯è“è‰²ã€‚

# ç»“è¯­

**`@scope`** The introduction of rules is an important progress in the development of CSS. Although browser support is not yet high enough, developers will obviously not wait too long for such an important feature. I believe that mainstream browsers will soon support it.

![1.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/ab72d779-85ad-4978-9841-30adbe46383a/83ecaef2-a2ed-42cb-a7ad-ff2182b4b7e5/1.png)

# ä¸“æ èµ„æº

ä¸“æ ä»‹ç»ï¼šåˆ†äº«CSSæ–°ç‰¹æ€§å’Œå¥½çœ‹çš„æ ·å¼è®¾è®¡

ä¸“æ åœ°å€ï¼šğŸ‘‰[ç®€æ˜å®ç”¨CSSæŠ€å·§](https://weijunext.com/tag/CSS%E6%8A%80%E5%B7%A7)
